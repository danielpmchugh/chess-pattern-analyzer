# Railway.app configuration for Chess Pattern Analyzer API
# https://docs.railway.app/deploy/config-as-code

[build]
# Use Dockerfile for build
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# Start command (Railway will inject PORT env var)
startCommand = "uvicorn app.main:app --host 0.0.0.0 --port $PORT --no-access-log"

# Health check endpoint
healthcheckPath = "/healthz"
healthcheckTimeout = 100

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[environment]
# These will be overridden by Railway environment variables
ENVIRONMENT = "production"
